const respuestasIA = {
  "hola": "¬°Hola! ¬øC√≥mo est√°s? Estoy aqu√≠ para acompa√±arte y ayudarte con cualquier duda o emoci√≥n relacionada a la alimentaci√≥n o c√≥mo te sientes.",
  "hola como estas": "¬°Estoy bien! Gracias por preguntar. ¬øT√∫ c√≥mo te sientes hoy?",
  "como estas": "Estoy para ayudarte. ¬øHay algo que quieras contarme o preguntar?",
  "buenos dias": "¬°Buenos d√≠as! Espero que tengas un d√≠a tranquilo. ¬øEn qu√© te gustar√≠a conversar?",
  "buenas tardes": "¬°Buenas tardes! ¬øQuieres hablar sobre algo que est√©s sintiendo o pensando?",
  "buenas noches": "¬°Buenas noches! Si algo te inquieta antes de dormir, estoy aqu√≠ para escucharte.",
  "que haces": "Estoy esperando tus preguntas o comentarios. ¬øEn qu√© puedo ayudarte?",
  "gracias": "¬°Con gusto! Estoy aqu√≠ para acompa√±arte.",
  "muchas gracias": "Para eso estoy. Lo importante es que te sientas acompa√±ado/a.",
  "adios": "Cu√≠date mucho. Recuerda que siempre puedes volver a conversar conmigo cuando lo necesites.",
  "nos vemos": "¬°Hasta pronto! No est√°s solo/a, y me alegra que hayas hablado conmigo.",
  "me escuchas": "S√≠, estoy contigo. Cu√©ntame lo que est√°s sintiendo.",
  "puedo hablar contigo": "Claro que s√≠. Estoy aqu√≠ para escucharte y ayudarte lo mejor que pueda.",
  "me puedes ayudar": "S√≠, dime qu√© te preocupa o c√≥mo te sientes. Estoy aqu√≠ para ti.",
  "necesito hablar": "Adelante. Puedes contarme lo que necesites. Lo que sientes es importante.",
  "quiero contarte algo": "Te escucho. Puedes escribir con calma. Estoy para ayudarte.",
  "no quiero hablar": "Est√° bien. A veces solo estar acompa√±ado/a en silencio tambi√©n ayuda. Cuando quieras, estar√© aqu√≠.",
  "me siento solo": "Siento que te sientas as√≠. Aunque soy solo un asistente, quiero acompa√±arte de la mejor forma posible.",
  "me puedes acompa√±ar": "S√≠, aqu√≠ estoy para ti. Puedes escribir cuando lo necesites, sin presi√≥n.",
  
  "si": "Entiendo. ¬øQuieres contarme un poco m√°s?",
  "s√≠": "Perfecto, cu√©ntame lo que est√°s pensando.",
  "no": "Est√° bien. Si en alg√∫n momento quieres hablar, aqu√≠ estar√©.",
  "tambien": "S√≠, es algo que muchas personas sienten. Est√°s acompa√±ado/a.",
  "yo igual": "Gracias por compartirlo. Es importante reconocer lo que sentimos.",
  "entiendo": "Gracias por tu confianza. ¬øTe gustar√≠a profundizar un poco m√°s?",
  "claro": "Perfecto. Estoy aqu√≠ para ayudarte con calma.",
  "gracias": "¬°Con gusto! Me alegra poder acompa√±arte.",
  "de nada": "üòä Estoy para ti.",
  "ok": "Listo. Cu√©ntame cuando est√©s preparado/a.",
  "vale": "Perfecto. T√≥mate tu tiempo.",
  "bueno": "¬øQuieres seguir hablando de eso o cambiamos de tema?",
  "quizas": "No hay problema. Si te ayuda hablarlo, puedes confiar en m√≠.",
  "tal vez": "Podemos explorar eso juntos si lo deseas.",
  "porque": "Buena pregunta. ¬øQu√© te gustar√≠a entender m√°s a fondo?",
  "no se": "Est√° bien no tener todas las respuestas. Podemos ir paso a paso.",
  "me da miedo": "Es totalmente v√°lido sentir miedo. No est√°s solo/a. ¬øQuieres que hablemos de eso?",
  "me cuesta": "Reconocerlo es valiente. Podemos ir con calma, sin presi√≥n.",
  "no quiero": "Est√° bien. No tienes que forzarte. Puedes hablar cuando te sientas listo/a.",
  "quiero": "Eso ya es un paso importante. ¬øQu√© es lo que m√°s necesitas ahora?",

  "estoy triste": "Lamento que te sientas as√≠. Recuerda que no est√°s solo/a. Hablar con un profesional puede ayudarte a manejar tus emociones y a entender lo que est√°s sintiendo.",
  "me siento mal": "¬øQuieres contarme m√°s sobre lo que sientes? Identificar las emociones es el primer paso para gestionarlas. Estoy aqu√≠ para acompa√±arte.",
  "no se que hacer": "Cuando uno no sabe qu√© hacer, lo mejor es detenerse, respirar y buscar apoyo. Puedes empezar hablando con alguien de confianza o contactando un especialista.",
  "necesito ayuda": "Reconocer que necesitas ayuda es un paso muy valiente. Puedes hablar con un psic√≥logo o nutricionista especializado en TCA. Estoy aqu√≠ para orientarte.",
  "me siento solo": "Es normal sentirse as√≠ en algunos momentos. Trata de acercarte a alguien en quien conf√≠es, o considera buscar grupos de apoyo. No est√°s solo/a.",
  "tengo ansiedad": "La ansiedad puede ser parte de un TCA. Respirar profundamente, escribir lo que sientes o practicar mindfulness puede ayudarte en este momento.",
  
  "que es la bulimia": "La bulimia es un trastorno alimenticio en el que hay episodios de atracones seguidos por conductas para evitar el aumento de peso, como v√≥mitos, laxantes o ejercicio excesivo.",
  "como se si tengo bulimia": "Algunas se√±ales incluyen comer en exceso en poco tiempo, esconder h√°bitos alimenticios, miedo al aumento de peso y usar purgas. Si te identificas con esto, busca apoyo profesional.",
  "como dejar de vomitar despues de comer": "Evitar el v√≥mito es dif√≠cil sin apoyo. Un especialista en salud mental puede ayudarte a entender el origen del comportamiento y a construir nuevas estrategias para afrontarlo.",
  
  "que es la anorexia": "Es un TCA caracterizado por la restricci√≥n extrema de alimentos, miedo intenso a subir de peso y una percepci√≥n distorsionada del cuerpo. Puede tener consecuencias graves si no se trata.",
  "como se si tengo anorexia": "Si sientes que comes muy poco, tienes miedo constante de engordar y te ves mal a pesar de estar en un peso bajo, habla con un profesional lo antes posible.",
  
  "porque no puedo dejar de comer": "Esto podr√≠a ser un s√≠ntoma de atracones. A veces comemos por ansiedad o emociones. Buscar ayuda psicol√≥gica puede ayudarte a comprender por qu√© ocurre.",
  "me siento culpable despues de comer": "Esa culpa es com√∫n en personas con TCA. Recuerda que comer no es malo. Un profesional puede ayudarte a reconciliarte con tu cuerpo y tu alimentaci√≥n.",
  
  "puedo salir de esto": "S√≠, absolutamente. Con apoyo psicol√≥gico y nutricional es posible recuperarse y mejorar tu calidad de vida. La recuperaci√≥n es un proceso, pero vale la pena.",
  "vale la pena pedir ayuda": "S√≠. Pedir ayuda no es se√±al de debilidad, sino de fortaleza. Dar el primer paso puede marcar una gran diferencia.",
  "cual es el primer paso para recuperarme": "Reconocer que hay un problema es el primer paso. El siguiente es buscar orientaci√≥n profesional, preferiblemente con experiencia en TCA.",
  
  "que especialista trata esto": "Un psic√≥logo cl√≠nico y un nutricionista especializado en TCA son claves. En algunos casos tambi√©n intervienen psiquiatras o m√©dicos generales.",
  "que pasa si no busco ayuda": "Los TCA pueden afectar gravemente la salud f√≠sica y mental. Buscar ayuda a tiempo mejora mucho las posibilidades de recuperaci√≥n.",
  
  "que son los tca": "Los Trastornos de la Conducta Alimentaria incluyen la anorexia, bulimia y trastorno por atrac√≥n. Afectan la forma en que una persona piensa, siente y act√∫a en relaci√≥n con la comida y su cuerpo.",
  "puede curarse un tca": "S√≠. Aunque el proceso puede ser largo, con ayuda adecuada muchas personas logran recuperar su salud f√≠sica y emocional.",
  "cuanto dura el tratamiento": "Cada caso es diferente. Puede tomar meses o a√±os, pero con constancia, apoyo y tratamiento adecuado, hay avances significativos.",
  
  "no quiero seguir asi": "Ese sentimiento es un punto de partida. Buscar apoyo profesional puede ayudarte a transformar ese malestar en acciones concretas hacia tu recuperaci√≥n.",
  "me odio": "Lo que sientes importa, y mereces apoyo. La autoaceptaci√≥n toma tiempo, pero se construye paso a paso. Habla con alguien de confianza.",
  "odio mi cuerpo": "Es com√∫n sentir eso con un TCA. Pero tu valor va m√°s all√° de tu apariencia. Un terapeuta puede ayudarte a mejorar la relaci√≥n contigo mismo/a.",

  "me quiero morir": "Lamento mucho que te sientas as√≠. Por favor, habla con alguien de confianza o contacta una l√≠nea de ayuda. Tu vida vale mucho. No est√°s solo/a.",
  "no quiero vivir": "Siento que te sientas as√≠. Buscar ayuda profesional puede marcar una gran diferencia. Mereces recibir apoyo.",
  "ya no puedo m√°s": "A veces sentimos que no podemos m√°s, pero hay caminos para salir adelante. Estoy aqu√≠ para ayudarte. Por favor, considera hablar con un especialista.",
  "todo es una mierda": "Lamento que est√©s pasando por un momento tan dif√≠cil. Expresar lo que sientes es importante. Estoy aqu√≠ para escucharte sin juzgar.",
  "odio todo": "Gracias por compartir lo que sientes. A veces, ponerlo en palabras ya es un primer paso. ¬øQuieres contarme m√°s?",
  "nadie me entiende": "Siento que te sientas incomprendido/a. Aqu√≠ tienes un espacio para expresarte con libertad y sin juicio.",
  "no sirvo para nada": "Tu vida tiene valor. Lo que sientes importa, y puedes superarlo con ayuda. No est√°s solo/a.",
  "soy una basura": "No eres basura. Esas emociones pueden ser muy fuertes, pero no definen tu valor. Hablemos de lo que est√°s sintiendo.",
  "quiero hacerme da√±o": "Tu seguridad es lo m√°s importante. Por favor, busca apoyo profesional o llama a una l√≠nea de ayuda. Hay salida, incluso si ahora no lo parece.",
  "quiero suicidarme": "Siento que te sientas as√≠. Por favor, busca ayuda inmediata con un profesional o llama a una l√≠nea de emergencia. Tu vida importa.",
  "matarme": "Si est√°s pensando en hacerte da√±o, por favor busca ayuda urgente. Hablar con un especialista puede salvar tu vida.",
  "odio mi vida": "Lo siento mucho. Hablar con alguien de confianza o un profesional puede ayudarte a salir de este momento dif√≠cil.",

  "puta": "Este espacio es de respeto. Estoy aqu√≠ para ayudarte, no para tolerar lenguaje ofensivo.",  
  "mierda": "Entiendo que est√©s frustrado/a. Podemos hablar con respeto y encontrar una soluci√≥n juntos.",
  "c√°llate": "Estoy aqu√≠ para escucharte y ayudarte, no para pelear. Hablemos con respeto.",
  "idiota": "No es necesario usar insultos. Estoy aqu√≠ para ayudarte con lo que est√°s sintiendo.",
  "estupido": "Este es un espacio seguro. Te pido que mantengamos el respeto para poder ayudarte.",
  "vete a la mierda": "Estoy aqu√≠ para ayudarte, no para pelear. Hablemos con respeto si quieres continuar.",
  "imbecil": "Recuerda que soy un asistente dise√±ado para ayudarte. Podemos seguir hablando si mantenemos el respeto.",
  "maldito": "Estoy aqu√≠ para ayudarte de forma respetuosa. Si necesitas desahogarte, puedes hacerlo sin insultos.",
  "asqueroso": "Siento que est√©s molesto/a. ¬øTe gustar√≠a contarme qu√© est√° pasando para ayudarte mejor?",
  "huevon": "Por favor, se respetuoso, estoy aca para ayudarte. No para juzgarte, cuentame que te sucede."
};


function sendMessage() {
  const input = document.getElementById("chatInput");
  const chatboxBody = document.getElementById("chatboxBody");

  const userMessage = input.value.trim();
  if (!userMessage) return;

  const userDiv = document.createElement("div");
  userDiv.classList.add("message", "user-message");
  userDiv.innerHTML = `
    <p>üë§ ${userMessage}</p>
    <img src="img/user-avatar.png" alt="user" class="avatar">
  `;
  chatboxBody.appendChild(userDiv);

  const loadingDiv = document.createElement("div");
  loadingDiv.classList.add("message", "bot-message");
  loadingDiv.innerHTML = `
    <img src="img/bot-avatar.png" alt="bot" class="avatar">
    <p class="loading">Escribiendo...</p>
  `;
  chatboxBody.appendChild(loadingDiv);
  chatboxBody.scrollTop = chatboxBody.scrollHeight;

  setTimeout(() => {
    const lower = userMessage.toLowerCase();
    let respuesta = respuestasIA[lower] || "Lo siento, a√∫n no tengo una respuesta precisa para eso. ¬øPuedes reformular tu pregunta?";

    loadingDiv.querySelector("p").classList.remove("loading");
    loadingDiv.querySelector("p").textContent = "ü§ñ " + respuesta;
    chatboxBody.scrollTop = chatboxBody.scrollHeight;
  }, 1000);

  input.value = "";
}

document.addEventListener("DOMContentLoaded", () => {
  const input = document.getElementById("chatInput");
  input.addEventListener("keydown", function (event) {
    if (event.key === "Enter") {
      event.preventDefault();
      sendMessage();
    }
  });
});
